<!DOCTYPE html>
<html lang="ja">
  <head>
    <title>Noffication-badge_line</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <style>

html,body{
   width:100%;
   height:100%;
   text-align: center;
   font-size: 1.2em;

   background-color: white;

   -webkit-user-select: none;
   -moz-user-select: none;
   -ms-user-select:none;
   user-select: none;

}

body{
   padding-top: auto;
   padding-bottom: auto;
   display: flex;
}

picture{
   width:90vw;
   max-width: 90vh;
   height: 90vw;
   max-height: 90vh;
   margin:auto;

   align-items: center;
   justify-content: center;

   position:relative;
}

picture img{
   margin:auto;
   padding:auto;
   width:100%;
   height:100%;
   text-align: center;

   border-radius: 22.5%;
}

#nof{
   color:white;
   background-color: red;

   padding:auto;

   width:30vw;
   max-width: 30vh;
   height: 30vw;
   max-height: 30vh;

   border-radius: 100vw;

   position:absolute;

   display:none;
   align-items: center;
   justify-content: center;
}

#nofin{
   font-size:4em;
   text-align:center;
}

    </style>
    
    <script>window.onerror=e=>alert(e);</script>

  </head>
  <body>
   <picture oncontextmenu="return false">
      <source type="image/webp" srcset="./Noffication-badge_line/LINEicon.webp">
      <img src="./Noffication-badge_line/LINEicon.png" type="image/png" alt="Line icon">
   </picture>

   <div id="nof"><span id="nofin"></span></div>

    <script>
let count=0;
const nof=document.getElementById("nof");
const nofin=document.getElementById("nofin");
const picture=document.getElementsByTagName("picture")[0];
let place=picture.getBoundingClientRect();
let iw=window.innerWidth;
let ih=window.innerHeight;
let bs=(place.bottom-place.top)/3;

document.addEventListener("DOMContentLoaded",budgeSize);

window.onresize=()=>{
  budgeSize();
  iw=window.innerWidth;
  ih=window.innerHeight;
  place=picture.getBoundingClientRect();
  bs=(place.bottom-place.top)/3;
}

function budgeSize(){
   nof.style.top=(place.top+window.scrollY)-bs/2+"px";
   nof.style.right=(iw-place.right)-bs/2+"px";
}



document.body.onclick=()=>countup();
document.body.onkeydown=e=>{
   if(e.key==="ArrowRight"){
      countup();
   }else{
      return false;
   }
};

function countup(){
   if(count===0){
    nof.style.display="flex";
   }
   nofin.textContent=++count;
}

    </script>
  </body>
</html>

